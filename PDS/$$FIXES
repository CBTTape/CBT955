09/29/2021
Fixed in v1.2

Assembly error caused by a change introduced by z/OS 1.13.  Starting
with z/OS 1.13, "64 bit and AR mode rules enforcement" results in
assembly errors when invoking certain DFP macros when they are invoked
in AR or 64 bit mode, if the macro does not support the mode.

RMTLOG with this fix was tested on z/OS 1.13, but should also work on
subsequent versions of z/OS,  I WOULD APPRECIATE a quick email if anyone
uses this code on z/OS versions above 1.13.  john@jmit.com

The error issued by the assembler is:
IGG204  YOU SPECIFIED ASCENV=AR OR ANY ON THE SYSSTATE MACRO BUT THE
OPEN MACRO SUPPORTS ONLY ASCENV=P.

The fix in this case was to add a "SYSSTATE ASCENV=P" macro before the
list form of the OPEN macro in the common data area member RLCOMM.

Background:
-----------
When programming in AR mode, it is always the responsibility of the
programmer to ensure that the program is in the correct mode (i.e.
problem mode vs. AR mode) before issuing any macros that do not support
AR mode.  Traditionally, if a program called a macro while in a mode
that is not supported by that macro, an ABEND would be issued.

As of z/OS 1.13, the assembler now throws an MNOTE if it thinks a
program is invoking a macro in an inappropriate mode.  The problem is
that there is no way the assembler can know what state the program will
be in when it invokes the code generated by the macro.  That's up to the
programmer to ensure the correct and appropriate execution mode.

The result is that SYSSTATE directive calls are now required to tell the
assembler what node the program will be in when it execures macro code,
even though this is really redundant since the code will blow up anyway
if the programmer coded it incorrectly!

In the case of RMTLOG, the LIST form of an OPEN macro is invoked to set
up the control blocks to open a DCB for writing to the output file.  The
assembler throws the above MNOTE at this point because a "SYSSTATE
ACSENV=P" directive was not active, even though that doesn't matter--
since we never invoke the OPEN code except when in PROB mode.  Prior to
z/OS 1.13, the OPEN macro simply ignored the Prob/AR mode flag during
assembly,

Starting in 1.13 it's required to explicitly code the intended state of
execution prior to a macro invocation.

Interestingly, this change (adding the SYSSTATE ACSENV=P) prior to the
OPEN macro does not affect the actual load module--rather it just makes
the assembler stop complaining.
